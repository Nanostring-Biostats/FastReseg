% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fastReseg_full_pipeline.R
\name{combine_matrices_fast}
\alias{combine_matrices_fast}
\title{combine_matrices_fast}
\usage{
combine_matrices_fast(
  matrix_list,
  bind = c("cbind", "rbind"),
  fill = 0,
  output_type = c("auto", "dense", "sparse")
)
}
\arguments{
\item{matrix_list}{A list of matrices to combine. All matrices must have non-NULL dimension names
and be of same type, either sparse (\code{sparseMatrix} class from the Matrix package) or dense (\code{matrix}).}

\item{bind}{Character string, \code{"cbind"} or \code{"rbind"}. Controls the bind direction:
\itemize{
\item \code{"cbind"}: align rows (union of rownames) then column-bind.
\item \code{"rbind"}: align columns (union of colnames) then row-bind.
}}

\item{fill}{Value to fill missing entries introduced by alignment. Default \code{0}.
\itemize{
\item If \code{output_type = "sparse"} or all inputs are sparse and \code{fill = NA}, the function sets \code{fill = 0}.
\item If \code{fill != 0} and sparse output is requested, the function converts to dense and warns.
}}

\item{output_type}{One of \code{"auto"}, \code{"dense"}, \code{"sparse"}. Controls the output class.
\itemize{
\item \code{"auto"}: if all inputs are sparse → sparse; if all are dense → dense; if mixed → sparse \strong{only when} \code{fill == 0},
otherwise dense.
\item \code{"dense"}: convert any sparse inputs to dense and return a dense matrix.
\item \code{"sparse"}: convert any dense inputs to sparse and return a sparse matrix. If \code{fill != 0}, converts to dense with warning.
}}
}
\value{
A combined matrix:
\itemize{
\item If \code{output_type} resolves to sparse, returns a \code{Matrix::sparseMatrix} (typically \code{dgCMatrix}).
\item If \code{output_type} resolves to dense, returns a base R \code{matrix}.
}
}
\description{
Efficiently combines a list of matrices by aligning along the necessary axis and then binding.
}
\details{
\itemize{
\item Missing rows or columns are filled with the specified \code{fill} value.
\item For sparse outputs, missing entries are naturally zeros. If \code{fill = NA}, it is replaced with \code{0} and a warning is issued.
\item If \code{fill != 0} and sparse output requested, the function converts to dense and warns.
}
}
